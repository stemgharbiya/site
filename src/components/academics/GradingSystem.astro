---
interface GradeEntry {
  grade: string;
  percentage: string;
}

interface Props {
  grades: GradeEntry[];
}

const { grades } = Astro.props;
---

<section class="section">
  <div class="section-inner">
    <div class="max-w-3xl">
      <p class="eyebrow">Assessment</p>
      <h2 class="section-title mt-3">Grading system.</h2>
      <p class="section-lead">
        STEM Gharbiya employs a comprehensive letter-grade system that evaluates 
        mastery, research quality, and presentation skills alongside traditional assessments.
      </p>
    </div>

    <div class="mt-12">
      <div class="surface p-6 md:p-8 max-w-2xl overflow-x-auto">
        <table class="w-full text-sm">
          <thead>
            <tr class="border-b border-border">
              <th class="text-left py-3 px-4 font-semibold text-foreground">Grade</th>
              <th class="text-left py-3 px-4 font-semibold text-foreground">Percentage</th>
              <th class="text-left py-3 px-4 font-semibold text-foreground">Interpretation</th>
            </tr>
          </thead>
          <tbody>
            {grades.map((entry, index) => {
              let interpretation = "";
              if (entry.grade === "A+" || entry.grade === "A") {
                interpretation = "Excellent";
              } else if (entry.grade === "B+" || entry.grade === "B") {
                interpretation = "Good";
              } else if (entry.grade === "C+" || entry.grade === "C") {
                interpretation = "Satisfactory";
              } else if (entry.grade === "D+" || entry.grade === "D") {
                interpretation = "Acceptable";
              } else {
                interpretation = "Failing";
              }

              return (
                <tr class="border-b border-border/50 hover:bg-muted/30 transition">
                  <td class="py-3 px-4">
                    <span class="inline-block font-semibold text-lg text-foreground min-w-12">
                      {entry.grade}
                    </span>
                  </td>
                  <td class="py-3 px-4 text-foreground">{entry.percentage}</td>
                  <td class="py-3 px-4 text-muted-foreground">{interpretation}</td>
                </tr>
              );
            })}
          </tbody>
        </table>
      </div>

      <div class="mt-8 grid gap-6 sm:grid-cols-2 md:grid-cols-3">
        <div class="surface p-6">
          <p class="text-xs uppercase tracking-[0.2em] text-muted-foreground">Evaluation</p>
          <p class="mt-3 text-sm text-foreground">
            Grades reflect mastery of content, quality of research contributions, and presentation skills.
          </p>
        </div>
        <div class="surface p-6">
          <p class="text-xs uppercase tracking-[0.2em] text-muted-foreground">Weighting</p>
          <p class="mt-3 text-sm text-foreground">
            Capstone projects (40%), assessments (35%), class participation (15%), presentations (10%).
          </p>
        </div>
        <div class="surface p-6">
          <p class="text-xs uppercase tracking-[0.2em] text-muted-foreground">Support</p>
          <p class="mt-3 text-sm text-foreground">
            Students below C receive academic counseling, tutoring, and additional mentoring.
          </p>
        </div>
      </div>
    </div>
  </div>
</section>
